<core:FragmentDefinition xmlns:upload="sap.m.upload" xmlns:plugins="sap.m.plugins" xmlns:core="sap.ui.core"  xmlns="sap.m" xmlns:macros="sap.fe.macros"  >
	<VBox id="_IDGenVBox" core:require="{ handler: 'project1/ext/fragment/Attachments'}">
		<Table
				id="table-uploadSet"
				width="auto"
				fixedLayout="false"
				inset="true"
				autoPopinMode="true"
				sticky="HeaderToolbar,ColumnHeaders"
					items="{
								path: 'CustomerToAttachments',
								parameters: {
									$orderby: 'createdAt desc'
								},
								templateShareable: false}"
				>

				<headerToolbar>
					<OverflowToolbar id="_IDGenOverflowToolbar1">
						<ToolbarSpacer id="ToolbarSpacer"/>
						<ToolbarSeparator id="_IDGenToolbarSeparator" />

						<!-- Use the UploadButtonPlaceholder to add the UploadButton to the toolbar -->
						<upload:ActionsPlaceholder id="uploadButton" placeholderFor="UploadButtonPlaceholder" />

					</OverflowToolbar>
				</headerToolbar>

				<dependents>
					<plugins:UploadSetwithTable id="_IDGenUploadSetwithTable" 
						beforeUploadStarts="handler.onBeforeUploadStart"
						uploadUrl=""
						httpRequestMethod="Put"
						multiple="true"
						beforeInitiatingItemUpload="handler.beforeInitiatingItemUpload"
						uploadCompleted="onUploadCompleted"
						onActivated="handler.onPluginActivated"
						cloudFilePickerEnabled="true"
						uploadEnabled="{= !${IsActiveEntity}}"
						actions="uploadButton">
						<plugins:rowConfiguration>
							<upload:UploadItemConfiguration id="_IDGenUploadItemConfiguration1" 
							fileNamePath="FileName"
								mediaTypePath="MediaType"
								urlPath="Url"
								fileSizePath="Size">
								</upload:UploadItemConfiguration>
						</plugins:rowConfiguration>
						<plugins:uploader>
						<upload:UploaderTableItem id="_IDGenUploaderTableItem" httpRequestMethod="Put"></upload:UploaderTableItem>
						</plugins:uploader>
						 
						</plugins:UploadSetwithTable>
				</dependents>

				<columns>
					<Column id="fileName" importance="High">
						<header>
							<Label id="_IDGenLabel" text="File Name" />
						</header>
					</Column>
					<Column id="fileSize">
						<header>
							<Label id="_IDGenLabel4" text="File Size" />
						</header>
					</Column>
					<Column id="lastModified">
						<header>
							<Label id="_IDGenLabel5" text="Last Modified" />
						</header>
					</Column>
					<Column id="actionButton" importance="High" />
				</columns>
	
	
				<items>
					<ColumnListItem id="_IDGenColumnListItem1"
			>
	<cells>
							<HBox id="_IDGenHBox">
							
								<core:Icon id="_IDGenIcon"
									src="{parts: ['MediaType','FileName'], formatter: 'handler.getIconSrc' }"
							 class="sapMUSTItemImage sapMUSTItemIcon"
								/>
								<VBox id="_IDGenVBox1"
									class="sapUiTinyMargin sapUiSmallMarginBegin"
								>
									<Link id="_IDGenLink"
										text="{FileName}"
										press="handler.openPreview"
										class="sapUiTinyMarginBottom"
									/>
									<Text id="_IDGenText" text="{MediaType}" />
								</VBox>
							</HBox>
							<Text id="_IDGenText6" text="{Size}" />
							<VBox id="_IDGenVBox2">
								<Text id="_IDGenText14" text="{createdBy}" />
								<Text id="_IDGenText15"
									class="sapUiTinyMarginTop"
									text="{createdAt}"
								/>
							</VBox>
							<Button id="_IDGenButton"
							enabled ="{= !${IsActiveEntity}}"
								class="sapUiTinyMarginBegin"
								type="Transparent"
								icon="sap-icon://decline"
								press="handler.onRemoveHandler"
							/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>

	</VBox>
</core:FragmentDefinition>